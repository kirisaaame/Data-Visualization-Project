# demand.md

## 空气质量数据可视化系统开发指南

### 项目概述
基于2013-2018年中国空气质量网格数据，开发一个多视图联动的可视分析Web系统。数据已预处理完成，存储在`Dataset`文件夹中，文件夹命名格式为`YYYYMM`（如`201601`），时间范围为201301到201701。每个月份文件夹包含该月每日的气候数据。

### 技术架构要求
- **前端可视化**：D3.js + Babylon.js
- **数据格式**：预处理后的CSV文件，13列统一命名

### 核心开发任务

#### 1. 地图可视化模块（D3.js + 地图API）
- 全国污染物浓度分布图（分级色彩）
- 支持PM2.5、PM10、SO2、NO2、CO、O3六种污染物切换
- 实现点击交互显示具体数值
- 时间动画播放功能（按月自动轮播）

#### 2. 时间序列分析（D3.js）
- 多污染物折线图/堆叠面积图
- 时间刷选联动其他视图
- 支持年/季/月不同时间粒度
- 气象因子叠加显示（温度、湿度等）

#### 3. 风场可视化（Babylon.js）
- 3D矢量场展示U、V风速分量
- 叠加PM2.5浓度显示污染传播
- 支持风场动画效果
- 3D场景交互（旋转、缩放）

#### 4. 相关性分析（D3.js）
- 散点图矩阵（SPLOM）展示属性关系
- 污染物-气象因子热力图
- 交互式数据点筛选

#### 5. 控制面板组件
- 时间滑块（2013年1月-2017年1月）
- 污染物类型选择器
- 区域选择工具
- 视图同步控制开关


### 开发优先级
1. **第一阶段**：数据服务API + 基础地图视图
2. **第二阶段**：时间序列分析 + 控制面板
3. **第三阶段**：风场3D可视化 + 相关性分析
4. **第四阶段**：视图联动 + 性能优化

### 关键注意事项
- 处理大规模网格数据的渲染性能
- 确保多视图状态同步
- 中国地图的准确性和合规性
- 响应式设计支持不同屏幕尺寸
- 数据加载优化（分页、懒加载）

### 预期交付物
- 完整的Web应用系统
- 模块化的前端组件
- 可扩展的API服务
- 项目部署文档

请基于以上需求开始系统开发，重点实现多视图联动和时空数据分析功能。